var _,d3,listGames,listPlays,vizGame;d3=require("d3"),_=require("lodash"),d3.csv("data/pbp-2016.csv",function(e){var t,n;return n=_.filter(e,function(e){return"OAK"===e.DefenseTeam||"OAK"===e.OffenseTeam}),t=d3.nest().key(function(e){return e.GameId}).entries(n),vizGame(t[2])}),vizGame=function(e){var t,n,a;return e.key,e=e.values,console.log("game data!",e[0]),a=1400,t=1200,d3.scaleOrdinal(d3.schemeCategory10),n=d3.select("#container").append("svg").attr("width",a).attr("height",t),n.selectAll("circle").data(e).enter().append("circle").attr("class","playstroke").attr("cx",a/2).attr("cy",t/2).attr("r",function(e,t){return 5*t}).style("fill","transparent").style("opacity",function(e){return 4==+e.Down?"0.2":3==+e.Down?"0.4":2==+e.Down?"0.6":"1"}).style("stroke",function(e){return 1==+e.SeriesFirstDown?"red":"black"}).style("stroke-width",function(e){return e.IsPass,2})},listPlays=function(e){var t;return e.key,e=e.values,console.log("game data!",e[0]),t=d3.select("#container").append("div").attr("id","game"),t.selectAll("p").data(e).enter().append("p").style("border-bottom","1px solid black").style("font-size",10).html(function(e){return e.Description})},listGames=function(e){var t;return t=d3.select("#container").append("div").attr("id","gamelist"),t.selectAll("div").data(e).enter().append("div").html(function(e){var t;return t=e.key+" ",t+=e.values[0].OffenseTeam+" vs "+e.values[0].DefenseTeam})};